<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 5500" style="background: #ffffff">
  <defs>
    <!-- Arrow markers -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>

    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#10b981" />
    </marker>

    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#dc2626" />
    </marker>

    <!-- Gradient definitions -->
    <linearGradient id="customerGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="systemGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="adminGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6d28d9;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="emailGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="slackGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#be185d;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Title -->
  <text x="800" y="40" font-family="Arial, sans-serif" font-size="36" font-weight="bold" text-anchor="middle" fill="#1f2937">
    PipeVault Complete Workflow
  </text>
  <text x="800" y="75" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#6b7280">
    End-to-End Customer &amp; Admin Interaction Flow
  </text>

  <!-- Swim lane headers -->
  <rect x="20" y="110" width="500" height="60" fill="url(#customerGradient)" rx="8"/>
  <text x="270" y="145" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="white">
    ğŸ‘¤ CUSTOMER
  </text>

  <rect x="540" y="110" width="520" height="60" fill="url(#systemGradient)" rx="8"/>
  <text x="800" y="145" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="white">
    ğŸ¤– PIPEVAULT SYSTEM
  </text>

  <rect x="1080" y="110" width="500" height="60" fill="url(#adminGradient)" rx="8"/>
  <text x="1330" y="145" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="white">
    ğŸ‘¨â€ğŸ’¼ ADMIN (MPS GROUP)
  </text>

  <!-- Swim lane background columns -->
  <rect x="20" y="170" width="500" height="5280" fill="#eff6ff" opacity="0.2"/>
  <rect x="540" y="170" width="520" height="5280" fill="#d1fae5" opacity="0.2"/>
  <rect x="1080" y="170" width="500" height="5280" fill="#ede9fe" opacity="0.2"/>

  <!-- ============================================ -->
  <!-- PHASE 1: CUSTOMER SIGN-UP -->
  <!-- ============================================ -->
  <text x="800" y="210" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#dc2626">
    â•â•â•â•â•â•â•â•â•â•â• PHASE 1: CUSTOMER SIGN-UP â•â•â•â•â•â•â•â•â•â•â•
  </text>

  <!-- Customer: Sign Up -->
  <rect x="50" y="230" width="200" height="90" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="255" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">1. Customer Signs Up</text>
  <text x="150" y="275" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">â€¢ First/Last Name</text>
  <text x="150" y="290" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">â€¢ Email + Password</text>
  <text x="150" y="305" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">â€¢ Company Name</text>
  <text x="150" y="320" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">âœ… COMPLETE</text>

  <!-- Arrow to System -->
  <line x1="250" y1="275" x2="540" y2="275" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- System: Create Account -->
  <rect x="570" y="230" width="220" height="90" fill="url(#systemGradient)" rx="6" stroke="#047857" stroke-width="2"/>
  <text x="680" y="255" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">2. Create Account</text>
  <text x="680" y="275" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">â€¢ Supabase Auth creates user</text>
  <text x="680" y="290" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">â€¢ Create company record</text>
  <text x="680" y="305" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">â€¢ Queue verification email</text>

  <!-- Email to Customer -->
  <line x1="680" y1="320" x2="300" y2="360" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="420" y="335" width="180" height="40" fill="url(#emailGradient)" rx="5" stroke="#d97706" stroke-width="2"/>
  <text x="510" y="352" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">ğŸ“§ Welcome Email</text>
  <text x="510" y="368" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Verify your email address</text>

  <!-- Customer: Verify Email -->
  <rect x="50" y="370" width="200" height="60" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="395" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">3. Click Email Link</text>
  <text x="150" y="415" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Email Verified âœ“</text>
  <text x="150" y="428" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Access to Dashboard</text>

  <!-- Arrow down -->
  <line x1="150" y1="430" x2="150" y2="480" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Customer: Dashboard -->
  <rect x="50" y="480" width="200" height="70" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="505" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">4. View Dashboard</text>
  <text x="150" y="525" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">â€¢ Roughneck AI tile</text>
  <text x="150" y="540" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">â€¢ "Request Storage" button</text>

  <!-- ============================================ -->
  <!-- PHASE 2: ADMIN SIGN-UP -->
  <!-- ============================================ -->
  <text x="800" y="600" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#dc2626">
    â•â•â•â•â•â•â•â•â•â•â• PHASE 2: ADMIN SIGN-UP â•â•â•â•â•â•â•â•â•â•â•
  </text>

  <!-- Admin: Sign Up -->
  <rect x="1110" y="620" width="200" height="80" fill="url(#adminGradient)" rx="6" stroke="#5b21b6" stroke-width="2"/>
  <text x="1210" y="645" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">Admin Signs Up</text>
  <text x="1210" y="665" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">â€¢ Must end in @mpsgroup.ca</text>
  <text x="1210" y="680" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">â€¢ Manual admin grant</text>
  <text x="1210" y="695" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">âœ… COMPLETE</text>

  <!-- Slack Notification for new customer -->
  <line x1="790" y1="320" x2="1080" y2="660" stroke="#ec4899" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="870" y="470" width="180" height="50" fill="url(#slackGradient)" rx="5" stroke="#be185d" stroke-width="2"/>
  <text x="960" y="490" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">ğŸ“¢ Slack Alert</text>
  <text x="960" y="508" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">New customer sign-up</text>
  <text x="960" y="518" font-family="Arial, sans-serif" font-size="9" font-style="italic" text-anchor="middle" fill="white">âš ï¸ NOT IMPLEMENTED</text>

  <!-- Admin: Wait for request -->
  <rect x="1110" y="730" width="200" height="50" fill="url(#adminGradient)" rx="6" stroke="#5b21b6" stroke-width="2"/>
  <text x="1210" y="750" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">Waits for Customer</text>
  <text x="1210" y="768" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">to create storage request</text>

  <!-- ============================================ -->
  <!-- PHASE 3: CUSTOMER STORAGE REQUEST -->
  <!-- ============================================ -->
  <text x="800" y="830" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#dc2626">
    â•â•â•â•â•â•â•â•â•â•â• PHASE 3: STORAGE REQUEST â•â•â•â•â•â•â•â•â•â•â•
  </text>

  <!-- Customer: Create Request -->
  <rect x="50" y="850" width="200" height="110" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="875" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">1. Create Request</text>
  <text x="150" y="895" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Auto-fills contact info</text>
  <text x="150" y="908" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Pipe specs (type, grade, etc.)</text>
  <text x="150" y="921" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Storage dates</text>
  <text x="150" y="934" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Trucking preference</text>
  <text x="150" y="947" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Submit âœ“</text>
  <text x="150" y="960" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ… COMPLETE</text>

  <!-- Arrow to System -->
  <line x1="250" y1="905" x2="540" y2="905" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- System: Process Request -->
  <rect x="570" y="850" width="220" height="110" fill="url(#systemGradient)" rx="6" stroke="#047857" stroke-width="2"/>
  <text x="680" y="875" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">2. AI Processing</text>
  <text x="680" y="895" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Generate REF-YYYYMMDD-XXX</text>
  <text x="680" y="908" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ AI creates summary</text>
  <text x="680" y="921" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Save request (PENDING)</text>
  <text x="680" y="934" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Notify customer</text>
  <text x="680" y="947" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Notify admin via Slack</text>

  <!-- Confirmation to Customer -->
  <line x1="680" y1="960" x2="300" y2="1000" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="340" y="975" width="240" height="45" fill="#dbeafe" rx="5" stroke="#3b82f6" stroke-width="2"/>
  <text x="460" y="993" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#1e40af">ğŸ“‹ Confirmation Screen</text>
  <text x="460" y="1008" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#1e40af">Project: REF-20250117-001</text>
  <text x="460" y="1020" font-family="Arial, sans-serif" font-size="9" font-style="italic" text-anchor="middle" fill="#1e40af">Track using Project Name</text>

  <!-- Customer: Confirmation -->
  <rect x="50" y="1000" width="200" height="60" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="1025" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">5. View Confirmation</text>
  <text x="150" y="1045" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Status: PENDING</text>
  <text x="150" y="1058" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Awaiting admin approval</text>

  <!-- Slack to Admin -->
  <line x1="790" y1="905" x2="1080" y2="905" stroke="#ec4899" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="820" y="880" width="230" height="50" fill="url(#slackGradient)" rx="5" stroke="#be185d" stroke-width="2"/>
  <text x="935" y="900" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">ğŸ“¢ Slack: Storage Request</text>
  <text x="935" y="918" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Company, contact, pipe specs</text>

  <!-- Admin: Review Request -->
  <rect x="1110" y="850" width="200" height="90" fill="url(#adminGradient)" rx="6" stroke="#5b21b6" stroke-width="2"/>
  <text x="1210" y="875" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">1. Review Request</text>
  <text x="1210" y="895" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Check pipe specs</text>
  <text x="1210" y="908" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Verify AI summary</text>
  <text x="1210" y="921" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Assign rack(s)</text>
  <text x="1210" y="934" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ… COMPLETE</text>

  <!-- Arrow down -->
  <line x1="1210" y1="940" x2="1210" y2="990" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Admin: Approve/Reject -->
  <rect x="1110" y="990" width="200" height="90" fill="url(#adminGradient)" rx="6" stroke="#5b21b6" stroke-width="2"/>
  <text x="1210" y="1015" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">2. Decision</text>
  <text x="1210" y="1035" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">âœ… Approve</text>
  <text x="1210" y="1050" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Assign Rack B-B1-05</text>
  <text x="1210" y="1063" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Reserve capacity</text>
  <text x="1210" y="1076" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">âŒ Reject (with reason)</text>

  <!-- Approval path -->
  <line x1="1110" y1="1035" x2="790" y2="1035" stroke="#10b981" stroke-width="3" marker-end="url(#arrowhead-green)"/>
  <text x="950" y="1025" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#10b981">APPROVE</text>

  <!-- Rejection path -->
  <line x1="1110" y1="1070" x2="790" y2="1140" stroke="#dc2626" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-red)"/>
  <text x="950" y="1100" font-family="Arial, sans-serif" font-size="10" font-style="italic" text-anchor="middle" fill="#dc2626">REJECT</text>

  <!-- System: Update Status -->
  <rect x="570" y="1000" width="220" height="80" fill="url(#systemGradient)" rx="6" stroke="#047857" stroke-width="2"/>
  <text x="680" y="1025" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">3. Update Database</text>
  <text x="680" y="1045" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Status â†’ APPROVED</text>
  <text x="680" y="1058" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Reserve rack capacity</text>
  <text x="680" y="1071" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Queue approval email</text>

  <!-- System: Rejection handler -->
  <rect x="570" y="1120" width="220" height="60" fill="#fee2e2" rx="6" stroke="#dc2626" stroke-width="2"/>
  <text x="680" y="1143" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#991b1b">Rejection Handler</text>
  <text x="680" y="1160" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#991b1b">â€¢ Status â†’ REJECTED</text>
  <text x="680" y="1173" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#991b1b">â€¢ Queue rejection email</text>

  <!-- Approval email to Customer -->
  <line x1="570" y1="1040" x2="300" y2="1110" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="330" y="1085" width="210" height="50" fill="url(#emailGradient)" rx="5" stroke="#d97706" stroke-width="2"/>
  <text x="435" y="1105" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">ğŸ“§ Approval Email</text>
  <text x="435" y="1123" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Request approved! Book Load #1</text>
  <text x="435" y="1135" font-family="Arial, sans-serif" font-size="8" font-style="italic" text-anchor="middle" fill="white">âš ï¸ Template needed</text>

  <!-- Rejection email to Customer -->
  <line x1="570" y1="1150" x2="300" y2="1200" stroke="#dc2626" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-red)"/>
  <rect x="330" y="1175" width="210" height="50" fill="#fee2e2" rx="5" stroke="#dc2626" stroke-width="2"/>
  <text x="435" y="1195" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#991b1b">ğŸ“§ Rejection Email</text>
  <text x="435" y="1213" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#991b1b">Request rejected (with reason)</text>
  <text x="435" y="1225" font-family="Arial, sans-serif" font-size="8" font-style="italic" text-anchor="middle" fill="#991b1b">âš ï¸ Template needed</text>

  <!-- Customer: Approved -->
  <rect x="50" y="1100" width="200" height="60" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="1125" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">3. Request Approved!</text>
  <text x="150" y="1145" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">âœ“ Status: APPROVED</text>
  <text x="150" y="1158" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Ready to book Load #1</text>

  <!-- ============================================ -->
  <!-- PHASE 4: INBOUND LOAD #1 BOOKING -->
  <!-- ============================================ -->
  <text x="800" y="1250" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#dc2626">
    â•â•â•â•â•â•â•â•â•â•â• PHASE 4: INBOUND LOAD #1 BOOKING â•â•â•â•â•â•â•â•â•â•â•
  </text>

  <!-- Customer: Book Load #1 -->
  <rect x="50" y="1270" width="200" height="140" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="1295" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">1. Book Load #1</text>
  <text x="150" y="1315" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Yard location &amp; contact</text>
  <text x="150" y="1328" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Choose trucking:</text>
  <text x="150" y="1341" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">  - Customer provides</text>
  <text x="150" y="1354" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">  - MPS quote</text>
  <text x="150" y="1367" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Select date/time</text>
  <text x="150" y="1380" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Upload manifest PDF</text>
  <text x="150" y="1393" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Submit âœ“</text>
  <text x="150" y="1406" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ… COMPLETE</text>

  <!-- Arrow to System -->
  <line x1="250" y1="1340" x2="540" y2="1340" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- System: AI Manifest Extraction -->
  <rect x="570" y="1270" width="220" height="140" fill="url(#systemGradient)" rx="6" stroke="#047857" stroke-width="2"/>
  <text x="680" y="1295" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">2. AI Extraction</text>
  <text x="680" y="1315" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">ğŸ¤– Gemini Vision API:</text>
  <text x="680" y="1328" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">â€¢ Parse serial numbers</text>
  <text x="680" y="1341" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">â€¢ Extract heat numbers</text>
  <text x="680" y="1354" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">â€¢ Record exact length per pipe</text>
  <text x="680" y="1367" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">â€¢ Calculate totals</text>
  <text x="680" y="1380" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Save to Supabase</text>
  <text x="680" y="1393" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Status: NEW</text>
  <text x="680" y="1406" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ… COMPLETE</text>

  <!-- AI Confirmation back to Customer -->
  <line x1="680" y1="1410" x2="300" y2="1450" stroke="#10b981" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-green)"/>
  <rect x="340" y="1425" width="280" height="50" fill="#d1fae5" rx="5" stroke="#10b981" stroke-width="2"/>
  <text x="480" y="1445" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#065f46">âœ“ AI Confirmation Screen</text>
  <text x="480" y="1463" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#065f46">87 joints â€¢ 1,044m â€¢ 15.2 tonnes</text>

  <!-- Customer: Confirm AI Data -->
  <rect x="50" y="1450" width="200" height="70" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="1475" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">8. Confirm AI Data</text>
  <text x="150" y="1495" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">"Does this look correct?"</text>
  <text x="150" y="1508" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ“ Confirms accuracy</text>

  <!-- Arrow down -->
  <line x1="150" y1="1520" x2="150" y2="1570" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Customer: Submission Confirmation -->
  <rect x="50" y="1570" width="200" height="70" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="1595" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">9. Submitted</text>
  <text x="150" y="1615" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Load #1 Status: NEW</text>
  <text x="150" y="1628" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âš ï¸ Cannot book Load #2</text>

  <!-- Slack to Admin -->
  <line x1="790" y1="1340" x2="1080" y2="1340" stroke="#ec4899" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="820" y="1310" width="230" height="60" fill="url(#slackGradient)" rx="5" stroke="#be185d" stroke-width="2"/>
  <text x="935" y="1330" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">ğŸ“¢ Slack: Load Approval</text>
  <text x="935" y="1348" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Load #1 â€¢ Time slot â€¢ Driver</text>
  <text x="935" y="1363" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">87 joints â€¢ 1,044m â€¢ 15.2t</text>

  <!-- Admin: Review Load -->
  <rect x="1110" y="1270" width="200" height="100" fill="url(#adminGradient)" rx="6" stroke="#5b21b6" stroke-width="2"/>
  <text x="1210" y="1295" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">1. Review Load #1</text>
  <text x="1210" y="1315" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Verify manifest data</text>
  <text x="1210" y="1328" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Check time slot available</text>
  <text x="1210" y="1341" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ View serial #, heat #</text>
  <text x="1210" y="1354" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Reassign rack if needed</text>
  <text x="1210" y="1367" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ… COMPLETE</text>

  <!-- Arrow down -->
  <line x1="1210" y1="1370" x2="1210" y2="1420" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Admin: Approve/Request Time Change -->
  <rect x="1110" y="1420" width="200" height="100" fill="url(#adminGradient)" rx="6" stroke="#5b21b6" stroke-width="2"/>
  <text x="1210" y="1445" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">3. Decision</text>
  <text x="1210" y="1465" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">âœ… Accept time slot</text>
  <text x="1210" y="1480" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">ğŸ”„ Request time change</text>
  <text x="1210" y="1495" font-family="Arial, sans-serif" font-size="9" font-style="italic" text-anchor="middle" fill="white">âš ï¸ NOT IMPLEMENTED</text>
  <text x="1210" y="1508" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">âŒ Reject</text>

  <!-- Approval path -->
  <line x1="1110" y1="1465" x2="790" y2="1465" stroke="#10b981" stroke-width="3" marker-end="url(#arrowhead-green)"/>

  <!-- System: Update Load Status -->
  <rect x="570" y="1440" width="220" height="80" fill="url(#systemGradient)" rx="6" stroke="#047857" stroke-width="2"/>
  <text x="680" y="1465" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">Update Load</text>
  <text x="680" y="1485" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Status â†’ APPROVED</text>
  <text x="680" y="1498" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Queue approval email</text>
  <text x="680" y="1511" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Generate calendar invite</text>

  <!-- Email to Customer -->
  <line x1="570" y1="1480" x2="300" y2="1670" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="330" y="1570" width="210" height="90" fill="url(#emailGradient)" rx="5" stroke="#d97706" stroke-width="2"/>
  <text x="435" y="1590" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">ğŸ“§ Load Approved</text>
  <text x="435" y="1608" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Load #1 approved!</text>
  <text x="435" y="1623" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">ğŸ“… Add to Calendar button</text>
  <text x="435" y="1638" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Can now book Load #2</text>
  <text x="435" y="1653" font-family="Arial, sans-serif" font-size="8" font-style="italic" text-anchor="middle" fill="white">âš ï¸ Template + Calendar needed</text>

  <!-- Customer: Load Approved -->
  <rect x="50" y="1670" width="200" height="70" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="1695" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">Load #1 Approved</text>
  <text x="150" y="1715" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ“ Status: APPROVED</text>
  <text x="150" y="1728" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ“ Can book Load #2 now</text>

  <!-- ============================================ -->
  <!-- PHASE 5: DELIVERY DAY -->
  <!-- ============================================ -->
  <text x="800" y="1800" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#dc2626">
    â•â•â•â•â•â•â•â•â•â•â• PHASE 5: DELIVERY DAY â•â•â•â•â•â•â•â•â•â•â•
  </text>

  <!-- Admin: Mark In Transit -->
  <rect x="1110" y="1820" width="200" height="70" fill="url(#adminGradient)" rx="6" stroke="#5b21b6" stroke-width="2"/>
  <text x="1210" y="1845" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">ğŸšš Truck Departs</text>
  <text x="1210" y="1865" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Mark as IN_TRANSIT</text>
  <text x="1210" y="1880" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ… COMPLETE</text>

  <!-- Email notification -->
  <line x1="1110" y1="1855" x2="300" y2="1855" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="620" y="1830" width="180" height="50" fill="url(#emailGradient)" rx="5" stroke="#d97706" stroke-width="2"/>
  <text x="710" y="1850" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">ğŸ“§ En Route</text>
  <text x="710" y="1868" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Truck on the way â€¢ ETA 9:30</text>

  <!-- Customer: Track Delivery -->
  <rect x="50" y="1820" width="200" height="70" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="1845" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">Track Delivery</text>
  <text x="150" y="1865" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Load #1: IN_TRANSIT</text>
  <text x="150" y="1880" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">ETA: 9:30 AM</text>

  <!-- Arrow down -->
  <line x1="1210" y1="1890" x2="1210" y2="1940" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Admin: Complete Load -->
  <rect x="1110" y="1940" width="200" height="120" fill="url(#adminGradient)" rx="6" stroke="#5b21b6" stroke-width="2"/>
  <text x="1210" y="1965" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">6. Unload &amp; Complete</text>
  <text x="1210" y="1985" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Unload 87 joints</text>
  <text x="1210" y="1998" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Upload damage photos</text>
  <text x="1210" y="2011" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Reconcile manifest</text>
  <text x="1210" y="2024" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Submit paperwork</text>
  <text x="1210" y="2037" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Mark COMPLETED</text>
  <text x="1210" y="2050" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ… COMPLETE</text>

  <!-- Arrow to System -->
  <line x1="1110" y1="2000" x2="790" y2="2000" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- System: Create Inventory -->
  <rect x="570" y="1940" width="220" height="120" fill="url(#systemGradient)" rx="6" stroke="#047857" stroke-width="2"/>
  <text x="680" y="1965" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">âš›ï¸ Atomic Transaction</text>
  <text x="680" y="1985" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ“ Create 87 inventory rows</text>
  <text x="680" y="1998" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ“ Update rack +87 joints</text>
  <text x="680" y="2011" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ“ Load status â†’ COMPLETED</text>
  <text x="680" y="2024" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ“ Update project totals</text>
  <text x="680" y="2037" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ“ Queue completion email</text>
  <text x="680" y="2050" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ… COMPLETE</text>

  <!-- Email to Customer -->
  <line x1="570" y1="2000" x2="300" y2="2000" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="300" y="1960" width="240" height="80" fill="url(#emailGradient)" rx="5" stroke="#d97706" stroke-width="2"/>
  <text x="420" y="1980" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">ğŸ“§ Load #1 Delivered</text>
  <text x="420" y="1998" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">87 joints â€¢ 1,044m â€¢ 15.2t</text>
  <text x="420" y="2013" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Rack: B-B1-05</text>
  <text x="420" y="2028" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Project Summary: 87j â€¢ 1,044m</text>

  <!-- Customer: View Inventory -->
  <rect x="50" y="1970" width="200" height="80" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="1995" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">âœ“ Load #1 Complete</text>
  <text x="150" y="2015" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">87 joints in storage</text>
  <text x="150" y="2028" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Rack: B-B1-05</text>
  <text x="150" y="2041" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="white">âœ“ Can book Load #2</text>

  <!-- ============================================ -->
  <!-- PHASE 6: SUBSEQUENT LOADS -->
  <!-- ============================================ -->
  <text x="800" y="2130" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#dc2626">
    â•â•â•â•â•â•â•â•â•â•â• PHASE 6: LOAD #2, #3, etc. â•â•â•â•â•â•â•â•â•â•â•
  </text>

  <rect x="100" y="2160" width="1400" height="100" fill="#fef3c7" rx="8" stroke="#f59e0b" stroke-width="3"/>
  <text x="800" y="2190" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#92400e">
    ğŸ“¦ SEQUENTIAL LOAD BOOKING (REPEAT)
  </text>
  <text x="800" y="2215" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#92400e">
    â€¢ Load #2 cannot be booked until Load #1 is COMPLETED (sequential blocking)
  </text>
  <text x="800" y="2235" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#92400e">
    â€¢ Contact info &amp; yard location AUTO-FILL from Load #1 (customer can edit if changed)
  </text>
  <text x="800" y="2255" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#92400e">
    â€¢ Every email includes BOTH load summary AND cumulative project summary
  </text>

  <!-- ============================================ -->
  <!-- PHASE 7: ALL LOADS COMPLETE -->
  <!-- ============================================ -->
  <text x="800" y="2330" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#dc2626">
    â•â•â•â•â•â•â•â•â•â•â• PHASE 7: ALL INBOUND COMPLETE â•â•â•â•â•â•â•â•â•â•â•
  </text>

  <rect x="570" y="2360" width="220" height="80" fill="url(#systemGradient)" rx="6" stroke="#047857" stroke-width="2"/>
  <text x="680" y="2385" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">All Loads Complete</text>
  <text x="680" y="2405" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Status â†’ IN_STORAGE</text>
  <text x="680" y="2418" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Queue storage email</text>
  <text x="680" y="2431" font-family="Arial, sans-serif" font-size="9" font-style="italic" text-anchor="middle" fill="white">âš ï¸ Manual process currently</text>

  <!-- Email to Customer -->
  <line x1="570" y1="2400" x2="300" y2="2400" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="300" y="2370" width="240" height="70" fill="url(#emailGradient)" rx="5" stroke="#d97706" stroke-width="2"/>
  <text x="420" y="2390" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">ğŸ“§ All Pipe in Storage</text>
  <text x="420" y="2408" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Project Summary:</text>
  <text x="420" y="2423" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">243 joints â€¢ 2,916m â€¢ 42.5t</text>
  <text x="420" y="2436" font-family="Arial, sans-serif" font-size="9" font-style="italic" text-anchor="middle" fill="white">âš ï¸ Template needed</text>

  <!-- Customer: All in Storage -->
  <rect x="50" y="2370" width="200" height="70" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="2395" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">ğŸ‰ Pipe in Storage</text>
  <text x="150" y="2415" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">243 joints stored</text>
  <text x="150" y="2428" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ“ Can request pickup</text>

  <!-- ============================================ -->
  <!-- PHASE 8: OUTBOUND PICKUP REQUEST -->
  <!-- ============================================ -->
  <text x="800" y="2520" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#dc2626">
    â•â•â•â•â•â•â•â•â•â•â• PHASE 8: OUTBOUND PICKUP â•â•â•â•â•â•â•â•â•â•â•
  </text>

  <!-- Customer: Request Pickup -->
  <rect x="50" y="2550" width="200" height="120" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="2575" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">1. Request Pickup</text>
  <text x="150" y="2595" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Choose: # of joints OR</text>
  <text x="150" y="2608" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">  length (m)</text>
  <text x="150" y="2621" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Well site location (UWI)</text>
  <text x="150" y="2634" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Trucking choice</text>
  <text x="150" y="2647" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Select pickup date/time</text>
  <text x="150" y="2660" font-family="Arial, sans-serif" font-size="9" font-style="italic" text-anchor="middle" fill="white">âš ï¸ NOT IMPLEMENTED</text>

  <!-- Arrow to System -->
  <line x1="250" y1="2610" x2="540" y2="2610" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- System: Create Outbound Load -->
  <rect x="570" y="2550" width="220" height="100" fill="url(#systemGradient)" rx="6" stroke="#047857" stroke-width="2"/>
  <text x="680" y="2575" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">Create Outbound Load</text>
  <text x="680" y="2595" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Direction: OUTBOUND</text>
  <text x="680" y="2608" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Status: NEW</text>
  <text x="680" y="2621" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Link to UWI</text>
  <text x="680" y="2634" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Notify admin</text>

  <!-- Slack to Admin -->
  <line x1="790" y1="2600" x2="1080" y2="2600" stroke="#ec4899" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="820" y="2570" width="230" height="60" fill="url(#slackGradient)" rx="5" stroke="#be185d" stroke-width="2"/>
  <text x="935" y="2590" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">ğŸ“¢ Slack: Pickup Request</text>
  <text x="935" y="2608" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">50 joints â€¢ UWI â€¢ Date/Time</text>

  <!-- Admin: Approve Pickup -->
  <rect x="1110" y="2550" width="200" height="100" fill="url(#adminGradient)" rx="6" stroke="#5b21b6" stroke-width="2"/>
  <text x="1210" y="2575" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">1. Review Pickup</text>
  <text x="1210" y="2595" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Verify availability</text>
  <text x="1210" y="2608" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Check 50 joints available</text>
  <text x="1210" y="2621" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Confirm time slot</text>
  <text x="1210" y="2634" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ“ APPROVE</text>

  <!-- Arrow down -->
  <line x1="1210" y1="2650" x2="1210" y2="2700" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Admin: Load Truck -->
  <rect x="1110" y="2700" width="200" height="110" fill="url(#adminGradient)" rx="6" stroke="#5b21b6" stroke-width="2"/>
  <text x="1210" y="2725" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">5. Load Truck</text>
  <text x="1210" y="2745" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Pull 50 joints from rack</text>
  <text x="1210" y="2758" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Upload manifest</text>
  <text x="1210" y="2771" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Submit paperwork</text>
  <text x="1210" y="2784" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Mark COMPLETED</text>

  <!-- Arrow to System -->
  <line x1="1110" y1="2755" x2="790" y2="2755" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- System: Update Inventory -->
  <rect x="570" y="2700" width="220" height="110" fill="url(#systemGradient)" rx="6" stroke="#047857" stroke-width="2"/>
  <text x="680" y="2725" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">7. AI Reads Manifest</text>
  <text x="680" y="2745" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Extract serial numbers</text>
  <text x="680" y="2758" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ 50 joints â†’ PICKED_UP</text>
  <text x="680" y="2771" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Rack occupancy -50</text>
  <text x="680" y="2784" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Archive those 50 joints</text>
  <text x="680" y="2797" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Queue pickup email</text>

  <!-- Email to Customer -->
  <line x1="570" y1="2755" x2="300" y2="2870" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="300" y="2830" width="240" height="80" fill="url(#emailGradient)" rx="5" stroke="#d97706" stroke-width="2"/>
  <text x="420" y="2850" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">ğŸ“§ Load Picked Up</text>
  <text x="420" y="2868" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Load #1: 50 joints â€¢ 600m â€¢ 8.7t</text>
  <text x="420" y="2883" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Dest: Well Site (UWI)</text>
  <text x="420" y="2898" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Remaining: 193j â€¢ 2,316m</text>

  <!-- Customer: Pickup Confirmed -->
  <rect x="50" y="2850" width="200" height="80" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="150" y="2875" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">8. Track Shipment</text>
  <text x="150" y="2895" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ“ 50 joints picked up</text>
  <text x="150" y="2908" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Remaining: 193 joints</text>
  <text x="150" y="2921" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Can request more pickups</text>

  <!-- ============================================ -->
  <!-- PHASE 9: ALL PICKED UP -->
  <!-- ============================================ -->
  <text x="800" y="3000" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#dc2626">
    â•â•â•â•â•â•â•â•â•â•â• PHASE 9: PROJECT COMPLETE â•â•â•â•â•â•â•â•â•â•â•
  </text>

  <rect x="570" y="3030" width="220" height="90" fill="url(#systemGradient)" rx="6" stroke="#047857" stroke-width="2"/>
  <text x="680" y="3055" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="white">9. Auto-Detect Complete</text>
  <text x="680" y="3075" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">All inventory = 0</text>
  <text x="680" y="3088" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Status â†’ ARCHIVED</text>
  <text x="680" y="3101" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Free rack capacity</text>
  <text x="680" y="3114" font-family="Arial, sans-serif" font-size="9" font-style="italic" text-anchor="middle" fill="white">âš ï¸ NOT IMPLEMENTED</text>

  <!-- Email to Customer -->
  <line x1="570" y1="3075" x2="300" y2="3075" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <rect x="300" y="3040" width="240" height="80" fill="url(#emailGradient)" rx="5" stroke="#d97706" stroke-width="2"/>
  <text x="420" y="3060" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">ğŸ“§ Thank You!</text>
  <text x="420" y="3078" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">All pipe delivered!</text>
  <text x="420" y="3093" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Final Summary:</text>
  <text x="420" y="3108" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">3 inbound â€¢ 5 outbound loads</text>

  <!-- Customer: Complete -->
  <rect x="50" y="3050" width="200" height="70" fill="#d1fae5" rx="6" stroke="#10b981" stroke-width="3"/>
  <text x="150" y="3075" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#065f46">10. ğŸ‰ Complete!</text>
  <text x="150" y="3095" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#065f46">Project ARCHIVED</text>
  <text x="150" y="3108" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#065f46">Data retrievable anytime</text>

  <!-- Admin: Racks Available -->
  <rect x="1110" y="3050" width="200" height="70" fill="#d1fae5" rx="6" stroke="#10b981" stroke-width="3"/>
  <text x="1210" y="3075" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#065f46">âœ“ Racks Freed</text>
  <text x="1210" y="3095" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#065f46">Rack B-B1-05 available</text>
  <text x="1210" y="3108" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#065f46">Ready for new requests</text>

  <!-- ============================================ -->
  <!-- ALTERNATE PATH: MPS SHIPPING QUOTE -->
  <!-- ============================================ -->
  <text x="800" y="3200" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#dc2626">
    â•â•â•â•â•â•â•â•â•â•â• ALTERNATE: MPS SHIPPING QUOTE â•â•â•â•â•â•â•â•â•â•â•
  </text>

  <rect x="100" y="3230" width="1400" height="280" fill="#ede9fe" rx="8" stroke="#8b5cf6" stroke-width="3"/>

  <!-- Customer chooses MPS quote -->
  <rect x="130" y="3260" width="300" height="80" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="280" y="3285" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Customer: Request Quote</text>
  <text x="280" y="3305" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Choose "MPS shipping"</text>
  <text x="280" y="3318" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Date range (start â†’ deadline)</text>
  <text x="280" y="3331" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Upload manifest</text>

  <text x="280" y="3365" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#5b21b6">Status: WAITING_ON_MPS_QUOTE</text>

  <!-- System processes -->
  <rect x="460" y="3260" width="300" height="80" fill="url(#systemGradient)" rx="6" stroke="#047857" stroke-width="2"/>
  <text x="610" y="3285" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">System: Process Quote Request</text>
  <text x="610" y="3305" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ AI scans manifest</text>
  <text x="610" y="3318" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Calculate # trucks needed</text>
  <text x="610" y="3331" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Notify admin via Slack</text>

  <!-- Admin creates quote -->
  <rect x="790" y="3260" width="300" height="80" fill="url(#adminGradient)" rx="6" stroke="#5b21b6" stroke-width="2"/>
  <text x="940" y="3285" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Admin: Create Quote</text>
  <text x="940" y="3305" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Contact trucking companies</text>
  <text x="940" y="3318" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Enter rate/truck in PipeVault</text>
  <text x="940" y="3331" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">â€¢ Send quote email to customer</text>

  <!-- Customer accepts quote -->
  <rect x="1120" y="3260" width="350" height="80" fill="url(#customerGradient)" rx="6" stroke="#1e40af" stroke-width="2"/>
  <text x="1295" y="3285" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Customer: Accept/Reject Quote</text>
  <text x="1295" y="3305" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">ğŸ“§ Email: $850/truck Ã— 5 = $4,250</text>
  <text x="1295" y="3318" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">âœ… Accept button â†’ MPS invoices</text>
  <text x="1295" y="3331" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">ğŸ“ Contact button â†’ Call/email MPS</text>

  <!-- Flow description -->
  <text x="800" y="3380" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#5b21b6">
    After quote accepted:
  </text>
  <text x="800" y="3400" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#5b21b6">
    1. Admin uploads load manifests â†’ 2. AI organizes data â†’ 3. Customer receives summary emails
  </text>
  <text x="800" y="3418" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#5b21b6">
    4. MPS handles scheduling internally â†’ 5. Customer only notified when loads complete
  </text>
  <text x="800" y="3436" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#5b21b6">
    Every email shows: Load summary + Project cumulative summary
  </text>

  <text x="800" y="3470" font-family="Arial, sans-serif" font-size="12" font-weight="bold" font-style="italic" text-anchor="middle" fill="#991b1b">
    âš ï¸ ENTIRE MPS QUOTE WORKFLOW NOT IMPLEMENTED
  </text>

  <!-- ============================================ -->
  <!-- IMPLEMENTATION STATUS LEGEND -->
  <!-- ============================================ -->
  <text x="800" y="3570" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#1f2937">
    IMPLEMENTATION STATUS
  </text>

  <rect x="100" y="3600" width="1400" height="200" fill="#f9fafb" rx="8" stroke="#d1d5db" stroke-width="2"/>

  <!-- Fully Implemented -->
  <rect x="140" y="3630" width="420" height="60" fill="#d1fae5" rx="6" stroke="#10b981" stroke-width="2"/>
  <text x="350" y="3655" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="#065f46">âœ… FULLY IMPLEMENTED</text>
  <text x="350" y="3675" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#065f46">Customer/Admin sign-up â€¢ Storage requests</text>

  <rect x="140" y="3700" width="420" height="60" fill="#d1fae5" rx="6" stroke="#10b981" stroke-width="2"/>
  <text x="350" y="3725" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#065f46">Inbound load booking â€¢ AI manifest extraction</text>
  <text x="350" y="3745" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#065f46">Sequential blocking â€¢ Inventory creation</text>

  <!-- Partially Implemented -->
  <rect x="590" y="3630" width="420" height="60" fill="#fef3c7" rx="6" stroke="#f59e0b" stroke-width="2"/>
  <text x="800" y="3655" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="#92400e">âš ï¸ PARTIALLY IMPLEMENTED</text>
  <text x="800" y="3675" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#92400e">Email infrastructure ready (templates needed)</text>

  <rect x="590" y="3700" width="420" height="60" fill="#fef3c7" rx="6" stroke="#f59e0b" stroke-width="2"/>
  <text x="800" y="3725" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#92400e">Slack notifications (some missing)</text>
  <text x="800" y="3745" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#92400e">Admin new customer alert â€¢ Quote requests</text>

  <!-- Not Implemented -->
  <rect x="1040" y="3630" width="420" height="60" fill="#fee2e2" rx="6" stroke="#dc2626" stroke-width="2"/>
  <text x="1250" y="3655" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="#991b1b">âŒ NOT IMPLEMENTED</text>
  <text x="1250" y="3675" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#991b1b">Time change requests â€¢ Calendar invites</text>

  <rect x="1040" y="3700" width="420" height="60" fill="#fee2e2" rx="6" stroke="#dc2626" stroke-width="2"/>
  <text x="1250" y="3725" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#991b1b">Outbound shipping â€¢ MPS quote workflow</text>
  <text x="1250" y="3745" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#991b1b">Auto-archive â€¢ Pre-fill load #2+ contact</text>

  <!-- ============================================ -->
  <!-- KEY FEATURES -->
  <!-- ============================================ -->
  <text x="800" y="3870" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#1f2937">
    ğŸ”‘ KEY WORKFLOW FEATURES
  </text>

  <!-- Feature boxes -->
  <rect x="100" y="3910" width="320" height="100" fill="#eff6ff" rx="6" stroke="#3b82f6" stroke-width="2"/>
  <text x="260" y="3940" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#1e40af">ğŸ¤– AI-Powered Extraction</text>
  <text x="260" y="3960" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#1e40af">â€¢ Gemini Vision API scans manifests</text>
  <text x="260" y="3978" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#1e40af">â€¢ Extracts serial #, heat #, length</text>
  <text x="260" y="3996" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#1e40af">â€¢ Customer confirms accuracy</text>

  <rect x="440" y="3910" width="320" height="100" fill="#d1fae5" rx="6" stroke="#10b981" stroke-width="2"/>
  <text x="600" y="3940" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#065f46">ğŸ“§ Email at Every Step</text>
  <text x="600" y="3960" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#065f46">â€¢ Approval/Rejection notifications</text>
  <text x="600" y="3978" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#065f46">â€¢ Load summaries + Project totals</text>
  <text x="600" y="3996" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#065f46">â€¢ Calendar invites (when implemented)</text>

  <rect x="780" y="3910" width="320" height="100" fill="#ede9fe" rx="6" stroke="#8b5cf6" stroke-width="2"/>
  <text x="940" y="3940" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#5b21b6">ğŸ”’ Sequential Blocking</text>
  <text x="940" y="3960" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#5b21b6">â€¢ Load #2 locked until #1 complete</text>
  <text x="940" y="3978" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#5b21b6">â€¢ Prevents inventory chaos</text>
  <text x="940" y="3996" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#5b21b6">â€¢ Ensures data integrity</text>

  <rect x="1120" y="3910" width="360" height="100" fill="#fef3c7" rx="6" stroke="#f59e0b" stroke-width="2"/>
  <text x="1300" y="3940" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#92400e">âš›ï¸ Atomic Transactions</text>
  <text x="1300" y="3960" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#92400e">â€¢ All-or-nothing database updates</text>
  <text x="1300" y="3978" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#92400e">â€¢ Inventory + Rack + Load in one go</text>
  <text x="1300" y="3996" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#92400e">â€¢ No partial failures</text>

  <!-- ============================================ -->
  <!-- PROJECT TRACKING -->
  <!-- ============================================ -->
  <text x="800" y="4090" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#1f2937">
    ğŸ“Š PROJECT TRACKING
  </text>

  <rect x="150" y="4120" width="1300" height="120" fill="#f9fafb" rx="8" stroke="#d1d5db" stroke-width="2"/>

  <text x="800" y="4155" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="#374151">
    Every Customer Email Includes BOTH:
  </text>

  <rect x="200" y="4175" width="550" height="50" fill="#dbeafe" rx="6" stroke="#3b82f6" stroke-width="2"/>
  <text x="475" y="4200" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#1e40af">ğŸ“¦ Load Summary</text>
  <text x="475" y="4217" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#1e40af">Load #1: 87 joints â€¢ 1,044m â€¢ 15.2 tonnes</text>

  <rect x="850" y="4175" width="550" height="50" fill="#dcfce7" rx="6" stroke="#10b981" stroke-width="2"/>
  <text x="1125" y="4200" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#065f46">ğŸ“ˆ Project Cumulative Total</text>
  <text x="1125" y="4217" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#065f46">Total in storage: 243 joints â€¢ 2,916m â€¢ 42.5t</text>

  <!-- ============================================ -->
  <!-- CRITICAL WORKFLOWS -->
  <!-- ============================================ -->
  <text x="800" y="4320" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#1f2937">
    âš¡ CRITICAL WORKFLOWS TO IMPLEMENT
  </text>

  <rect x="100" y="4350" width="1400" height="280" fill="#fee2e2" rx="8" stroke="#dc2626" stroke-width="3"/>

  <!-- Priority 1 -->
  <text x="800" y="4390" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#991b1b">
    Priority 1: Complete Email Templates
  </text>
  <text x="800" y="4415" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#991b1b">
    Infrastructure exists â€¢ Just need templates for: Approval, Rejection, Load Approval, In Transit, Completion, Pickup
  </text>

  <!-- Priority 2 -->
  <text x="800" y="4455" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#991b1b">
    Priority 2: Outbound Shipping Workflow
  </text>
  <text x="800" y="4480" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#991b1b">
    Create OutboundShipmentWizard â€¢ Add UWI field â€¢ Inventory updates (IN_STORAGE â†’ PICKED_UP) â€¢ Rack decrement
  </text>

  <!-- Priority 3 -->
  <text x="800" y="4520" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#991b1b">
    Priority 3: Auto-fill Sequential Loads
  </text>
  <text x="800" y="4545" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#991b1b">
    Pre-populate Load #2+ with yard location &amp; contact from Load #1 (editable) â€¢ "Same as Load #1" checkbox
  </text>

  <!-- Priority 4 -->
  <text x="800" y="4585" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#991b1b">
    Priority 4: MPS Shipping Quote Workflow
  </text>
  <text x="800" y="4610" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#991b1b">
    Quote request form â€¢ Admin quote creation UI â€¢ trucking_quotes table â€¢ Email with Accept/Reject buttons
  </text>

  <!-- ============================================ -->
  <!-- FOOTER -->
  <!-- ============================================ -->
  <rect x="100" y="4670" width="1400" height="100" fill="#1f2937" rx="8"/>
  <text x="800" y="4710" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="white">
    PipeVault - Enterprise Pipe Storage Management
  </text>
  <text x="800" y="4740" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#9ca3af">
    Built with â¤ï¸ and AI assistance by MPS Group â€¢ Version 2.0.13
  </text>
  <text x="800" y="4760" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#6b7280">
    Copyright Â© 2025 MPS Group. All rights reserved.
  </text>

  <!-- ============================================ -->
  <!-- LEGEND -->
  <!-- ============================================ -->
  <text x="200" y="4860" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="start" fill="#374151">Legend:</text>

  <rect x="200" y="4875" width="120" height="30" fill="url(#customerGradient)" rx="4"/>
  <text x="260" y="4895" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">ğŸ‘¤ Customer</text>

  <rect x="340" y="4875" width="120" height="30" fill="url(#systemGradient)" rx="4"/>
  <text x="400" y="4895" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">ğŸ¤– System</text>

  <rect x="480" y="4875" width="120" height="30" fill="url(#adminGradient)" rx="4"/>
  <text x="540" y="4895" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">ğŸ‘¨â€ğŸ’¼ Admin</text>

  <rect x="620" y="4875" width="120" height="30" fill="url(#emailGradient)" rx="4"/>
  <text x="680" y="4895" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">ğŸ“§ Email</text>

  <rect x="760" y="4875" width="120" height="30" fill="url(#slackGradient)" rx="4"/>
  <text x="820" y="4895" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">ğŸ“¢ Slack</text>

  <line x1="900" y1="4890" x2="980" y2="4890" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="1010" y="4895" font-family="Arial, sans-serif" font-size="11" text-anchor="start" fill="#374151">Direct action</text>

  <line x1="1100" y1="4890" x2="1180" y2="4890" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <text x="1210" y="4895" font-family="Arial, sans-serif" font-size="11" text-anchor="start" fill="#374151">Notification</text>

  <rect x="200" y="4930" width="150" height="30" fill="#d1fae5" rx="4" stroke="#10b981" stroke-width="2"/>
  <text x="275" y="4950" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#065f46">âœ… COMPLETE</text>

  <rect x="370" y="4930" width="190" height="30" fill="#fef3c7" rx="4" stroke="#f59e0b" stroke-width="2"/>
  <text x="465" y="4950" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#92400e">âš ï¸ PARTIAL/TEMPLATE NEEDED</text>

  <rect x="580" y="4930" width="180" height="30" fill="#fee2e2" rx="4" stroke="#dc2626" stroke-width="2"/>
  <text x="670" y="4950" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#991b1b">âŒ NOT IMPLEMENTED</text>

  <!-- Document Reference -->
  <text x="800" y="5030" font-family="Arial, sans-serif" font-size="11" font-style="italic" text-anchor="middle" fill="#6b7280">
    ğŸ“„ Reference: docs/architecture/COMPLETE_WORKFLOW.md
  </text>
  <text x="800" y="5050" font-family="Arial, sans-serif" font-size="11" font-style="italic" text-anchor="middle" fill="#6b7280">
    Generated: 2025-01-17 â€¢ Last Updated: 2025-11-17
  </text>
</svg>